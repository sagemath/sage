include VERSION.txt

recursive-include sage *.pxi *.pxd *.h *.hpp

prune sage/ext/interpreters   # In particular, __init__.py must not be present in the distribution; or sage_setup.autogen.interpreters.rebuild will not generate the code
prune sage_docbuild
prune doc

# include sage_setup
recursive-include sage_setup *
prune sage_setup/autogen/flint*
exclude sage_setup/autogen/flint*
exclude sage_setup/autogen/giacpy*

#
# Most C and C++ files are generated by Cython and should not
# be included in the sdist.
#
global-exclude *.c
global-exclude *.cpp

#
# List of C and C++ files that are actual source files,
# NOT generated by Cython. The same list appears in SAGE_ROOT/.gitignore
#
include sage/graphs/base/boost_interface.cpp
include sage/graphs/cliquer/cl.c
include sage/libs/eclib/wrap.cpp
include sage/libs/linkages/padics/relaxed/flint_helper.c
include sage/misc/inherit_comparison_impl.c
include sage/modular/arithgroup/farey.cpp
include sage/modular/arithgroup/sl2z.cpp
include sage/rings/bernmm/bern_modp.cpp
include sage/rings/bernmm/bern_modp_util.cpp
include sage/rings/bernmm/bern_rat.cpp
include sage/rings/bernmm/bernmm-test.cpp
include sage/rings/padics/transcendantal.c
include sage/rings/polynomial/weil/power_sums.c
include sage/schemes/hyperelliptic_curves/hypellfrob/hypellfrob.cpp
include sage/schemes/hyperelliptic_curves/hypellfrob/recurrences_ntl.cpp
include sage/stats/distributions/dgs_bern.c
include sage/stats/distributions/dgs_gauss_dp.c
include sage/stats/distributions/dgs_gauss_mp.c
include sage/symbolic/ginac/*.cpp
# Also actual C++ source files.
include sage/geometry/triangulation/triangulations.cc
include sage/geometry/triangulation/data.cc
include sage/geometry/triangulation/functions.cc

# Exclude extension modules shipped by optional packages
exclude sage/graphs/bliss.p*
prune sage/graphs/bliss_cpp
prune sage/libs/coxeter3
exclude sage/graphs/mcqd.p*
exclude sage/libs/meataxe.p*
exclude sage/libs/sirocco.p*
exclude sage/matrix/matrix_gfpn_dense.p*
exclude sage/graphs/graph_decompositions/tdlib.p*

# Exclude all__*.py files belonging to distributions related to optional packages
global-exclude all__sagemath_bliss.py
global-exclude all__sagemath_coxeter3.py
global-exclude all__sagemath_mcqd.py
global-exclude all__sagemath_meataxe.py
global-exclude all__sagemath_sirocco.py
global-exclude all__sagemath_tdlib.py

global-exclude __pycache__
global-exclude *.py[co]
global-exclude *.bak
global-exclude *.so
global-exclude *~
prune .tox
prune build
prune dist
